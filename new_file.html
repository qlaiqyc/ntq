<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		
	
	<a href="http://mp.weixin.qq.com/s?__biz=MjM5MzI3NTI2MA==&mid=2651204469&idx=5&sn=1e6ecc4c3eddd4a22971533a5615ed87&chksm=bd6b07668a1c8e706b4e464f7d204bc55bb844d9ccc0c66014ea9498b2273b02de25591fc596&scene=4" target="_self">demo001</a>
<div id="">
	
</div>
	</body>
	<script src="assets/js/plug/jquery-3.2.0.js"></script>
	<script type="text/javascript">
	var FunUtil = function(){
		
		 function r(r) {
        var e = r.length
          , n = r.indexOf("?")
          , t = r.indexOf("#");
        t = -1 == t ? e : t,
        n = -1 == n ? t : n;
        var a = r.substr(0, n)
          , i = r.substr(n + 1, t - n - 1)
          , s = r.substr(t + 1);
        return {
            host: a,
            query_str: i,
            hash: s
        };
    }
    function e(e, n) {
        var t = r(e)
          , a = t.query_str
          , i = [];
        for (var s in n)
            n.hasOwnProperty(s) && i.push(s + "=" + encodeURIComponent(n[s]));
        return i.length > 0 && (a += ("" != a ? "&" : "") + i.join("&")),
        t.host + ("" != a ? "?" + a : "") + ("" != t.hash ? "#" + t.hash : "");
    }
    function n(r, e, n, t) {
        r = r || location.href;
        var a = r.indexOf("&")
          , i = r.length
          , s = r.replace(/^[\w\d]+:[\/\\]+/g, "").split("").reverse();
        Array.prototype.indexOf || (Array.prototype.indexOf = function(r, e) {
            var n;
            if (null == this)
                throw new TypeError('"this" is null or not defined');
            var t = Object(this)
              , a = t.length >>> 0;
            if (0 === a)
                return -1;
            var i = +e || 0;
            if (1 / 0 === Math.abs(i) && (i = 0),
            i >= a)
                return -1;
            for (n = Math.max(i >= 0 ? i : a - Math.abs(i), 0); a > n; ) {
                if (n in t && t[n] === r)
                    return n;
                n++;
            }
            return -1;
        }
        );
        var o = i - 1 - s.indexOf("/");
        -1 != a && -1 == r.indexOf("?") && a > o && (r = r.replace("&", "?"));
        var u = new RegExp("([\\?&]" + e + "=)[^&#]*");
        if (!r.match(u)) {
            var h = r.indexOf("?");
            return -1 == h ? r + "?" + e + "=" + n : h == r.length - 1 ? r + e + "=" + n : r + "&" + e + "=" + n;
        }
        return t === !0 ? r.replace(u, "$1" + n) : r;
    }
    return {
        parseUrl: r,
        join: e,
        addParam: n
    };
		
	};
	var Url = "https://mp.weixin.qq.com/s?__biz=MTg1MjI3MzY2MQ==&mid=2651686542&idx=1&sn=65da6ce34c60399f03c68e11ae3f1c24&chksm=5da1a21c6ad62b0a04e299afc261b1f1da1901b46759bd160bb8c670cece7ff8cb961c05be51&scene=4";
	console.log(FunUtil().parseUrl(Url));
	console.log(FunUtil().addParam(Url,"tp","webp",!0))
	
	var e= Url,
	uin=777,
	biz="MTg1MjI3MzY2MQ==",
	mid="2651686542",
	idx="0",
	type= 0;
	
	 
var url2="http://mp.weixinbridge.com/mp/wapredirect?url=" + encodeURIComponent(e) + "&action=appmsg_redirect&uin=" + uin + "&biz=" + biz + "&mid=" + mid + "&idx=" + idx + "&type=9&scene=0";
console.log(url2)
	</script>
</html>
